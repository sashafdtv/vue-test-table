webpackJsonp([1],{"8n+B":function(e,t){},FbUL:function(e,t){},L1Bq:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),r=n("Xxa5"),i=n.n(r),l=n("exGp"),o=n.n(l),s={name:"Modal",props:{value:{type:Boolean,default:!1},headsList:{type:Array,default:function(){return[]}}},data:function(){return{form:{name:"",phone:"",head:""},rules:{name:[{required:!0,message:"Пожалуйста, введите имя",trigger:"blur"}],phone:[{required:!0,message:"Пожалуйста, введите телефон",trigger:"blur"},{min:10,max:10,message:"Номер телефона должен содержать 11 цифр",trigger:"blur"}]}}},methods:{onSubmit:function(){var e,t=this;this.$refs.form.validate((e=o()(i.a.mark(function e(n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}t.$emit("submit",{name:t.form.name,phone:t.form.phone,head:t.form.head,children:[]}),t.$refs.form.$children.forEach(function(e){e.resetField()}),e.next=6;break;case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))}}},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"Имя",prop:"name"}},[n("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Телефон",prop:"phone"}},[n("el-input",{attrs:{type:"number"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}},[n("template",{slot:"prepend"},[e._v("+7")])],2)],1),e._v(" "),n("el-form-item",{attrs:{label:"Начальник"}},[n("el-select",{attrs:{placeholder:"Выберите руководителя"},model:{value:e.form.head,callback:function(t){e.$set(e.form,"head",t)},expression:"form.head"}},e._l(e.headsList,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),n("div",{staticClass:"button-wrapper"},[n("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("\n      Сохранить\n    ")])],1)],1)},staticRenderFns:[]};var c={name:"Table",components:{Form:n("VU/8")(s,u,!1,function(e){n("FbUL")},null,null).exports},data:function(){return{visibleModal:!1,tableData:[{id:"1",name:"Марина",phone:"+7 941 123 21 42",children:[]},{id:"2",name:"Петр",phone:"+7 941 123 21 42",children:[]},{id:"3",name:"Алексей",phone:"+7 941 123 21 42",children:[]},{id:"4",name:"Борис",phone:"+7 941 123 21 42",children:[]}]}},methods:{submitHandler:function(e){this.changeModalVisibility(),this.addUser(e)},addUser:function(e){if(e.phone=this.transformNumber(e.phone),e.head){var t=this.tableData.find(function(t){return t.id===e.head});return e.id=t.id+"-"+(+t.children.length+1),t.children.push(e)}return e.id=this.tableData.length+1,this.tableData.push(e)},transformNumber:function(e){return"+7 "+e.slice(0,3)+" "+e.slice(3,6)+" "+e.slice(6,8)+" "+e.slice(8,10)},changeModalVisibility:function(){this.visibleModal=!this.visibleModal}}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":"id"}},[n("el-table-column",{attrs:{prop:"name",label:"Имя",width:"200",sortable:""}}),e._v(" "),n("el-table-column",{attrs:{prop:"phone",label:"Телефон",width:"300"}})],1),e._v(" "),n("div",{staticClass:"button-wrapper"},[n("el-button",{attrs:{type:"primary"},on:{click:e.changeModalVisibility}},[e._v("Добавить")])],1),e._v(" "),n("el-dialog",{attrs:{visible:e.visibleModal,title:"Добавление пользователя"},on:{"update:visible":function(t){e.visibleModal=t}}},[n("Form",{attrs:{headsList:e.tableData},on:{submit:e.submitHandler}})],1)],1)},staticRenderFns:[]};var m={name:"App",components:{Table:n("VU/8")(c,d,!1,function(e){n("8n+B")},"data-v-0314e312",null).exports}},p={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Table")],1)},staticRenderFns:[]};var f=n("VU/8")(m,p,!1,function(e){n("L1Bq")},null,null).exports,h=n("zL8q"),b=n.n(h);n("tvR6");a.default.config.productionTip=!1,a.default.use(b.a),new a.default({el:"#app",components:{App:f},template:"<App/>"})},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.3618d5a932bb5474addc.js.map